# 🛠️ ESLint Function Style Rules Guide

## Rules configured to enforce modern JavaScript practices

### 🎯 Function Style Rules

#### 1. **`prefer-arrow-callback`** (warning)
Encourages using arrow functions in callbacks:

```javascript
// ❌ Warning: Unexpected function expression
[1, 2, 3].map(function(item) {
  return item * 2;
});

// ✅ Good: Use arrow function
[1, 2, 3].map(item => item * 2);
```

#### 2. **`arrow-body-style`** (warning)
Encourages implicit return when possible:

```javascript
// ❌ Warning: Unexpected block statement
const double = x => {
  return x * 2;
};

// ✅ Good: Implicit return
const double = x => x * 2;
```

#### 3. **`arrow-parens`** (warning)
Removes unnecessary parentheses:

```javascript
// ❌ Warning: Unexpected parentheses around single function parameter
const triple = (x) => x * 3;

// ✅ Good: No unnecessary parentheses
const triple = x => x * 3;
```

#### 4. **`arrow-spacing`** (error)
Requires spaces before and after arrow:

```javascript
// ❌ Error: Missing space before =>
const add = (a, b)=> a + b;

// ✅ Good: Proper spacing
const add = (a, b) => a + b;
```

#### 5. **`prefer-template`** (warning)
Encourages template literals instead of string concatenation:

```javascript
// ❌ Warning: Unexpected string concatenation
const fullName = firstName + ' ' + lastName;

// ✅ Good: Use template literal
const fullName = `${firstName} ${lastName}`;
```

#### 6. **`object-shorthand`** (warning)
Encourages object shorthand properties:

```javascript
// ❌ Warning: Expected property shorthand
const user = {
  name: name,
  age: age,
  getName: function() {
    return this.name;
  }
};

// ✅ Good: Use shorthand
const user = {
  name,
  age,
  getName() {
    return this.name;
  }
};
```

#### 7. **`prefer-destructuring`** (warning)
Encourages destructuring for objects:

```javascript
// ❌ Warning: Use object destructuring
const name = user.name;
const email = user.email;

// ✅ Good: Use destructuring
const { name, email } = user;
```

#### 8. **`no-var`** (error)
Requires using `const`/`let` instead of `var`:

```javascript
// ❌ Error: Unexpected var
var count = 0;

// ✅ Good: Use const/let
const count = 0;
let counter = 0;
```

### 🔧 TypeScript Specific Rules

#### 1. **`@typescript-eslint/prefer-function-type`** (warning)
Encourages function types instead of call signatures:

```typescript
// ❌ Warning: Use function type instead
interface Handler {
  (event: Event): void;
}

// ✅ Good: Function type
type Handler = (event: Event) => void;
```

#### 2. **`@typescript-eslint/method-signature-style`** (warning)
Encourages property style for method signatures:

```typescript
interface API {
  // ❌ Warning: Shorthand method signature is forbidden
  getData(): Promise<Data>;
  
  // ✅ Good: Function property
  getData: () => Promise<Data>;
}
```

## 🚀 Best Practices for React

### React Components
```tsx
// ✅ Function declaration OK for exported components
export default function LoginPage() {
  return <div>Login</div>;
}

// ✅ Arrow function OK for internal components
const UserCard = ({ user }) => (
  <div>{user.name}</div>
);
```

### Event Handlers
```tsx
// ✅ Arrow functions for event handlers
const handleSubmit = async (e: FormEvent) => {
  e.preventDefault();
  await submitForm();
};

// ✅ Curried functions for dynamic handlers
const handleInputChange = (field: string) => (e: ChangeEvent) => {
  setFormData(prev => ({ ...prev, [field]: e.target.value }));
};
```

### Utility Functions
```tsx
// ✅ Arrow functions for utilities
const formatCurrency = (amount: number) => 
  new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD'
  }).format(amount);
```

## 🎯 Commands

```bash
# Check all function style issues
pnpm lint

# Auto-fix what can be fixed automatically
pnpm lint --fix

# Fix only specific rules
pnpm lint --fix --rule prefer-template
```

## 📝 Notes

- **Warnings vs Errors**: Most rules are warnings to not block development
- **React-friendly**: `func-style` rule is turned off to allow function declarations for React components
- **Gradual adoption**: Can fix files one by one with `pnpm lint --fix`
- **Customizable**: Can adjust rules in `eslint.config.js` if needed

## 🔄 Migration Strategy

1. **Phase 1**: Fix `no-var` errors first (critical)
2. **Phase 2**: Address `prefer-template` warnings
3. **Phase 3**: Convert callbacks to arrow functions
4. **Phase 4**: Apply destructuring and object shorthand
5. **Phase 5**: Clean up arrow function styles 